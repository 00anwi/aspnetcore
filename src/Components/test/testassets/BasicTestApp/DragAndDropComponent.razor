@using Microsoft.AspNetCore.Components.Web.Extensions

<Drop TItem="Person" OnDrop="OnDropFirst">
    @foreach (var item in firstPersonList)
    {
        <Drag Item="item" OnDragStart="OnDragStart" OnDragEnd="OnDragEnd" @key="item">
            @item.Name
        </Drag>
        <br />
    }
</Drop>

<hr />

<Drop TItem="Person" OnDrop="OnDropSecond">
    @foreach (var item in secondPersonList)
    {
        <Drag Item="item" OnDragStart="OnDragStart" OnDragEnd="OnDragEnd" @key="item">
            @item.Name
        </Drag>
        <br />
    }
</Drop>

<hr />

<Drop TItem="Animal">
    @foreach (var item in animalList)
    {
        <Drag Item="item" @key="item">
            @item.Type
        </Drag>
        <br />
    }
</Drop>

@code {
    private class Person
    {
        public string Name { get; }

        public Person(string name)
        {
            Name = name;
        }

        public override string ToString()
        {
            return Name;
        }
    }

    private class Animal
    {
        public string Type { get; }

        public Animal(string type)
        {
            Type = type;
        }

        public override string ToString()
        {
            return Type;
        }
    }

    readonly List<Person> firstPersonList = new List<Person>()
    {
        new Person("Bob"),
        new Person("Jenny"),
        new Person("Christopher"),
    };

    readonly List<Person> secondPersonList = new List<Person>()
    {
        new Person("Tom"),
        new Person("Jasmine"),
        new Person("Sarah"),
    };

    readonly List<Animal> animalList = new List<Animal>()
    {
        new Animal("Dog"),
        new Animal("Cat"),
        new Animal("Giraffe"),
        new Animal("Horse"),
    };

    void OnDragStart(Person person, MutableDragEventArgs e)
    {
        e.DataTransfer.SetData("text/plain", person.Name);
    }

    void OnDragEnd(Person person, MutableDragEventArgs e)
    {
        Console.WriteLine($"Dragging ended: {person.Name}");
    }

    void OnDropFirst(DropInfo<Person> dropInfo)
    {
        Console.WriteLine($"Data from .NET: {dropInfo.EventArgs.DataTransfer.GetData("text/plain")}");

        firstPersonList.RemoveAll(p => dropInfo.Items.Contains(p));
        secondPersonList.RemoveAll(p => dropInfo.Items.Contains(p));

        firstPersonList.AddRange(dropInfo.Items);

        StateHasChanged();
    }

    void OnDropSecond(DropInfo<Person> dropInfo)
    {
        Console.WriteLine($"Data from .NET: {dropInfo.EventArgs.DataTransfer.GetData("text/plain")}");

        firstPersonList.RemoveAll(p => dropInfo.Items.Contains(p));
        secondPersonList.RemoveAll(p => dropInfo.Items.Contains(p));

        secondPersonList.AddRange(dropInfo.Items);

        StateHasChanged();
    }
}
